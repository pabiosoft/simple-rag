doctype html
html(lang="fr")
    head
        title Chat IA avec RAG
        link(rel="stylesheet", href="/styles.css")
        meta(charset="utf-8")
        meta(name="viewport", content="width=device-width, initial-scale=1")
    
    body
        .container
            // Header
            .header
                h1 Assistant IA - RAG
                p Recherche intelligente dans vos documents
            
            // Chat Container
            .chat-container
                // Messages Area
                #messages.messages-area
                    .welcome-message
                        i.fas.fa-robot
                        p Posez votre question sur l'IA, la gestion de projet ou la ville de Pabios
                        p.subtitle Vos documents seront analysés pour vous fournir une réponse précise
                
                // Input Area
                .input-area
                    .input-container
                        input#userInput(
                            type="text"
                            placeholder="Tapez votre question..."
                            autocomplete="off"
                            maxlength="500"
                        )
                        button#sendBtn.send-button
                            i#sendIcon.fas.fa-paper-plane
                            span#sendText Envoyer

            // Upload Panel
            .upload-panel
                h2 Ajouter un document au corpus
                p.description Glissez un JSON, PDF ou Excel : il sera automatiquement classé et indexé. Inspirez-vous d'une expérience Swagger : la réponse brute apparaît juste dessous.
                form#corpusUpload.form-upload(
                    action="/corpus/upload"
                    method="POST"
                    enctype="multipart/form-data"
                )
                    label.form-upload__label(for="corpusFile")
                        span Fichier à envoyer
                        small (extensions acceptées : .json, .pdf, .xlsx, .xls)
                    input#corpusFile(type="file" name="file" required)
                    button.form-upload__button(type="submit")
                        i.fas.fa-upload
                        span Envoyer vers /corpus/upload
                .upload-response
                    h3 Résultat de l'API
                    pre#uploadResponse
                        code Sélectionnez un fichier puis validez pour voir la réponse JSON.

        // Scripts
        script(src="/app.js")
